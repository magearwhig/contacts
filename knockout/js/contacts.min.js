/*! knockoutjs-contacts 2013-08-04 */
(function(a, b) {
    function c(a) {
        var b = {
            editing: !1,
            firstName: "",
            lastName: "",
            haveMet: !1,
            company: "",
            address: "",
            city: "",
            state: "",
            zip: "",
            phone: ""
        }, c = _.extend(b, a), d = this;
        d.editContact = function() {
            d.editing(!0);
        }, d.doneEditing = function() {
            d.editing(!1);
        }, d.firstName = ko.observable(c.firstName), d.lastName = ko.observable(c.lastName), 
        d.haveMet = ko.observable(c.haveMet), d.company = ko.observable(c.company), d.address = ko.observable(c.address), 
        d.city = ko.observable(c.city), d.state = ko.observable(c.state), d.zip = ko.observable(c.zip), 
        d.phone = ko.observable(c.phone), d.editing = ko.observable(c.editing), d.fullName = ko.computed(function() {
            return d.firstName() + " " + d.lastName();
        }, d), d.initials = ko.computed(function() {
            return d.firstName().substring(0, 1) + d.lastName().substring(0, 1);
        }, d);
    }
    function d() {
        var a = this;
        a.newFirstName = ko.observable(), a.newLastName = ko.observable(), a.newCompany = ko.observable(), 
        a.newAddress = ko.observable(), a.newCity = ko.observable(), a.newState = ko.observable(), 
        a.newZip = ko.observable(), a.newPhone = ko.observable(), a.newHaveMet = ko.observable(), 
        a.remove = function(b) {
            a.contacts.remove(b), localStorage.setItem("koContacts", ko.toJSON(a.contacts()));
        }, a.addContact = function() {
            a.contacts.push(new c({
                firstName: a.newFirstName(),
                lastName: a.newLastName(),
                company: a.newCompany(),
                address: a.newAddress(),
                city: a.newCity(),
                state: a.newState(),
                zip: a.newZip(),
                phone: a.newPhone()
            })), localStorage.setItem("koContacts", ko.toJSON(a.contacts())), a.newFirstName(""), 
            a.newLastName(""), a.newCompany(""), a.newAddress(""), a.newCity(""), a.newState(""), 
            a.newZip(""), a.newPhone("");
        }, a.initialJSONContacts = localStorage.getItem("koContacts") ? JSON.parse(localStorage.getItem("koContacts")) : [], 
        a.initialContacts = [], _.each(a.initialJSONContacts, function(b) {
            a.initialContacts.push(new c(b));
        }), a.contacts = ko.observableArray(a.initialContacts);
    }
    b["true"] = a;
    var e = 13;
    ko.bindingHandlers.enterKey = {
        init: function(a, b, c, d) {
            var f, g;
            f = function(a, c) {
                c.keyCode === e && b().call(this, a, c);
            }, g = function() {
                return {
                    keyup: f
                };
            }, ko.bindingHandlers.event.init(a, g, c, d);
        }
    }, ko.applyBindings(new d());
})({}, function() {
    return this;
}());